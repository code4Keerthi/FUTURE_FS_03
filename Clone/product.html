<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial‑scale=1">
  <title>Product Details</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header>
    <a href="index.html">Home</a> | <a href="cart.html">Cart</a>
  </header>
  <div id="toastContainer" class="toast-container"></div>
  <main id="productDetail"></main>
  <script>
     const products = JSON.parse(localStorage.getItem('products')) || [];
  const params = new URLSearchParams(window.location.search);
  const id = parseInt(params.get('id'), 10);
  const p = products[id];

  const container = document.getElementById('productDetail');
  if (!p) {
    container.innerHTML = '<p>Product not found.</p>';
  } else {
    container.innerHTML = `
      <img src="${p.image}" alt="${p.name}" style="max-width:300px;">
      <h1>${p.name}</h1>
      <p>₹${p.price}</p>
      <p>${p.description || ''}</p>
      <button id="addBtn">Add to Cart</button>
    `;

    document.getElementById('addBtn').onclick = () => {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      cart.push(p);
      localStorage.setItem('cart', JSON.stringify(cart));
      showToast('Added to cart');
    };
  }
  
  function showToast(message) {
    const toast = document.createElement('div');
    toast.className = 'toast';
    toast.textContent = message;
    document.body.appendChild(toast);
    setTimeout(() => {
      toast.classList.add('show');
    }, 100);
    setTimeout(() => {
      toast.classList.remove('show');
      setTimeout(() => toast.remove(), 300);
    }, 3000);
  }
    
  </script>
  
</body>
</html>
